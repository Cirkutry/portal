{
  "openapi" : "3.0.0",
  "info" : {
    "version" : "4.0.0",
    "title" : "Discord Tickets API",
    "description" : "This is the schema for the API that you can use to interact with your ticket bot. It is used by the Archives Portal and the Settings Panel websites.\nIf you are using a managed ticket bot your API will be available at `https://hosting.discordtickets.app:{port}`. Create a ticket if you don't know what port your bot is on.\n# Error codes\nCheck the error `message` for more specific details.\n- `0x001`: Invalid type\n\n- `0x191`: Unauthorised\n- `0x193`: Forbidden\n- `0x194`: Not found\n- `0x1F4`: Internal server error"
  },
  "servers" : [ {
    "description" : "[TEST] SwaggerHub API Auto Mocking",
    "url" : "https://virtserver.swaggerhub.com/eartharoid/discord-tickets/4.0.0"
  }, {
    "url" : "http://localhost:{port}/api",
    "description" : "[DEV] Local development API server",
    "variables" : {
      "port" : {
        "default" : "8080"
      }
    }
  }, {
    "url" : "{host}/api",
    "description" : "[PROD] Production API server",
    "variables" : {
      "host" : {
        "default" : "http://localhost:8080"
      }
    }
  } ],
  "security" : [ {
    "api_key" : [ ]
  } ],
  "paths" : {
    "/admin/guilds" : {
      "get" : {
        "tags" : [ "admin" ],
        "summary" : "List the guilds that the user has permission to manage",
        "description" : "This route returns an array of guilds that the user can manage.",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Guild"
                  }
                }
              }
            }
          },
          "default" : {
            "$ref" : "#/components/responses/default"
          }
        }
      }
    },
    "/admin/guilds/{guild}" : {
      "delete" : {
        "tags" : [ "admin" ],
        "summary" : "Reset a guild's settings",
        "description" : "This route resets the guild's settings.",
        "parameters" : [ {
          "name" : "guild",
          "in" : "path",
          "description" : "The guild to reset the settings of",
          "required" : true,
          "style" : "simple",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/GuildSettings"
                }
              }
            }
          },
          "default" : {
            "$ref" : "#/components/responses/default"
          }
        }
      },
      "get" : {
        "tags" : [ "admin" ],
        "summary" : "Get a guild's settings",
        "description" : "This route returns the guild's current settings.",
        "parameters" : [ {
          "name" : "guild",
          "in" : "path",
          "description" : "The guild to get the settings of",
          "required" : true,
          "style" : "simple",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/GuildSettings"
                }
              }
            }
          },
          "default" : {
            "$ref" : "#/components/responses/default"
          }
        }
      },
      "put" : {
        "tags" : [ "admin" ],
        "summary" : "Set a guild's settings",
        "description" : "This route sets the guild's settings.",
        "parameters" : [ {
          "name" : "guild",
          "in" : "path",
          "description" : "The guild to update the settings of",
          "required" : true,
          "style" : "simple",
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "The full GuildSettings object",
          "required" : true,
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/GuildSettings"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/GuildSettings"
                }
              }
            }
          },
          "default" : {
            "$ref" : "#/components/responses/default"
          }
        }
      }
    },
    "/admin/guilds/{guild}/categories" : {
      "get" : {
        "tags" : [ "admin" ],
        "summary" : "List the categories of a guild",
        "description" : "This route returns an array of categories within a guild.",
        "parameters" : [ {
          "name" : "guild",
          "in" : "path",
          "description" : "The guild to list the categories of",
          "required" : true,
          "style" : "simple",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Category"
                  }
                }
              }
            }
          },
          "default" : {
            "$ref" : "#/components/responses/default"
          }
        }
      }
    },
    "/admin/guilds/{guild}/categories/{category}" : {
      "get" : {
        "tags" : [ "admin" ],
        "summary" : "Get a category's settings",
        "description" : "This route returns the category's current settings.",
        "parameters" : [ {
          "name" : "guild",
          "in" : "path",
          "description" : "The guild the category belongs to",
          "required" : true,
          "style" : "simple",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "category",
          "in" : "path",
          "description" : "The category to get the settings of",
          "required" : true,
          "style" : "simple",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/CategorySettings"
                  }
                }
              }
            }
          },
          "default" : {
            "$ref" : "#/components/responses/default"
          }
        }
      }
    },
    "/archives/guilds" : {
      "get" : {
        "tags" : [ "user" ],
        "summary" : "List the guilds that the client and the user have in common",
        "description" : "This route returns an array of guilds that the client and user have in common and it is therefore possible for the user to have a ticket in.",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Guild"
                  }
                }
              }
            }
          },
          "default" : {
            "$ref" : "#/components/responses/default"
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "Error" : {
        "type" : "object",
        "properties" : {
          "code" : {
            "type" : "integer"
          },
          "message" : {
            "type" : "string"
          }
        },
        "example" : {
          "code" : "0x190",
          "message" : "Bad Request"
        }
      },
      "Category" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          }
        },
        "example" : {
          "id" : "620272351988285480",
          "name" : "Support"
        }
      },
      "CategorySettings" : {
        "type" : "object",
        "properties" : {
          "channelName" : {
            "type" : "string"
          },
          "claiming" : {
            "type" : "boolean"
          },
          "image" : {
            "type" : "string"
          },
          "memberLimit" : {
            "type" : "integer"
          },
          "name" : {
            "type" : "string"
          },
          "openingMessage" : {
            "type" : "string"
          },
          "ping" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "requireTopic" : {
            "type" : "boolean"
          },
          "roles" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "totalLimit" : {
            "type" : "integer"
          }
        },
        "example" : {
          "channelName" : "ticket-{num}",
          "claiming" : false,
          "image" : "https://static.eartharoid.me/ticket-header.png",
          "memberLimit" : 1,
          "name" : "Support",
          "openingMessage" : "Thank you for creating a ticket. Please be patient, a member of the support team will reply when they become available. Whilst you wait, please provide as much information about your support query as possible. ",
          "ping" : [ 513828182697312267 ],
          "requireTopic" : true,
          "roles" : [ 451745787974778908, 513828182697312267 ],
          "totalLimit" : -1
        }
      },
      "Guild" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "logo" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          }
        },
        "example" : {
          "id" : "451745464480432129",
          "logo" : "https://cdn.discordapp.com/icons/451745464480432129/c340066806e27569c1c6b2bbd8ab28f1.png",
          "name" : "Planet Earth"
        }
      },
      "GuildSettings" : {
        "type" : "object",
        "properties" : {
          "archive" : {
            "type" : "boolean"
          },
          "errorColour" : {
            "type" : "string"
          },
          "primaryColour" : {
            "type" : "string"
          },
          "successColour" : {
            "type" : "string"
          }
        },
        "example" : {
          "archive" : true,
          "errorColour" : "RED",
          "primaryColour" : "#009999",
          "successColour" : "GREEN"
        }
      }
    },
    "securitySchemes" : {
      "api_key" : {
        "type" : "apiKey",
        "name" : "Authorization",
        "in" : "header"
      }
    },
    "responses" : {
      "default" : {
        "description" : "Unexpected error",
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/Error"
            }
          }
        }
      }
    }
  }
}